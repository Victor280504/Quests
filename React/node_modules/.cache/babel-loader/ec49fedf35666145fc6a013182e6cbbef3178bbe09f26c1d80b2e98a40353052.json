{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/victo/Documents/GitHub/Quests/React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/victo/Documents/GitHub/Quests/React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/victo/Documents/GitHub/Quests/React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\victo\\\\Documents\\\\GitHub\\\\Quests\\\\React\\\\src\\\\pages\\\\home.js\",\n  _s = $RefreshSig$();\nimport \"../components/Tela.css\";\nimport Forms from \"../components/Forms\";\nimport Tabletop from \"../components/Tabletop\";\nimport SearchForm from \"../components/SearchForm\";\nimport HeaderHome from \"../components/HeaderHome\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from 'axios';\nvar urlRecomendedQuests = \"https://smdquests.000webhostapp.com/api/quests/recomended\";\nvar urlAllQuests = \"https://smdquests.000webhostapp.com/api/quests\";\nimport { useNavigate } from 'react-router-dom';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Context } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  var _useContext = useContext(Context),\n    authenticated = _useContext.authenticated,\n    handleLogout = _useContext.handleLogout,\n    loading = _useContext.loading;\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    recomendados = _useState2[0],\n    setRecomendados = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    quests = _useState4[0],\n    setQuests = _useState4[1];\n  if (authenticated) {\n    // useEffect(() =>{\n\n    // const token = localStorage.getItem('token');\n    //  const teste = async () => {\n    //      const response = await axios.get(urlRecomendedQuests, {\n    //     }).then(function (response) {\n    //     if(response.data){\n    //         setRecomendados(response.data.recomendacoes);\n    //         setQuests(response.data.allquests)\n    //     };\n    //     }).catch(function (error) {\n\n    //       console.log(error);\n\n    //     });\n    //  }\n    //  teste();\n    // },[]);\n    handleRecomend();\n  } else {\n    useEffect(function () {\n      var token = localStorage.getItem('token');\n      var teste = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          var response;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(urlAllQuests, {}).then(function (response) {\n                  if (response.data) {\n                    setQuests(response.data);\n                  }\n                  ;\n                }).catch(function (error) {\n                  console.log(error);\n                });\n              case 2:\n                response = _context.sent;\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        return function teste() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      teste();\n    }, []);\n  }\n  function handleRecomend() {\n    return _handleRecomend.apply(this, arguments);\n  }\n  function _handleRecomend() {\n    _handleRecomend = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var token;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            // esse teste possivelmente deu certo\n            token = localStorage.getItem('token').replace(/[\"]/g, '');\n            fetch(urlRecomendedQuests, {\n              method: 'post',\n              body: JSON.stringify({\n                token: token\n              })\n            }).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              setRecomendados(data.recomendacoes);\n              setQuests(data.allquests);\n            }).catch(function (error) {\n              // Lidar com erros\n              console.error(error);\n            });\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return _handleRecomend.apply(this, arguments);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"background alinhamento\",\n    children: [/*#__PURE__*/_jsxDEV(HeaderHome, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"fonte_login\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/tabletop\",\n        children: /*#__PURE__*/_jsxDEV(Tabletop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), authenticated && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"pb-3 titulo_login\",\n          children: \"Question\\xE1rios Recomendados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Forms, {\n          quests: recomendados\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"pb-3 pt-5 titulo_login\",\n        children: \"Todos os Question\\xE1rios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Forms, {\n        quests: quests\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }, this);\n}\n_s(Home, \"V/ZDJLfczXM9jR/vaiOE7y6k5QE=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["Forms","Tabletop","SearchForm","HeaderHome","Button","axios","urlRecomendedQuests","urlAllQuests","useNavigate","React","useContext","useEffect","useState","Context","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_s","_useContext","authenticated","handleLogout","loading","_useState","_useState2","_slicedToArray","recomendados","setRecomendados","_useState3","_useState4","quests","setQuests","handleRecomend","token","localStorage","getItem","teste","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","then","data","catch","error","console","log","sent","stop","apply","arguments","_handleRecomend","_callee2","_callee2$","_context2","replace","fetch","method","body","JSON","stringify","json","recomendacoes","allquests","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","_c","$RefreshReg$"],"sources":["C:/Users/victo/Documents/GitHub/Quests/React/src/pages/home.js"],"sourcesContent":["import \"../components/Tela.css\"\r\nimport Forms from \"../components/Forms\";\r\nimport Tabletop from \"../components/Tabletop\";\r\nimport SearchForm from \"../components/SearchForm\";\r\nimport HeaderHome from \"../components/HeaderHome\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport axios from 'axios';\r\n\r\nconst urlRecomendedQuests = \"https://smdquests.000webhostapp.com/api/quests/recomended\";\r\n\r\nconst urlAllQuests = \"https://smdquests.000webhostapp.com/api/quests\";\r\n\r\n\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nimport React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport { Context } from '../context/AuthContext';\r\n\r\nexport default function Home(){\r\n\r\n    const { authenticated, handleLogout, loading} = useContext(Context);\r\n    \r\n\r\n    const [recomendados, setRecomendados] = useState();\r\n    const [quests, setQuests] = useState();\r\n\r\n    if(authenticated){\r\n        // useEffect(() =>{\r\n\r\n        // const token = localStorage.getItem('token');\r\n        //  const teste = async () => {\r\n        //      const response = await axios.get(urlRecomendedQuests, {\r\n        //     }).then(function (response) {\r\n        //     if(response.data){\r\n        //         setRecomendados(response.data.recomendacoes);\r\n        //         setQuests(response.data.allquests)\r\n        //     };\r\n        //     }).catch(function (error) {\r\n\r\n        //       console.log(error);\r\n\r\n        //     });\r\n        //  }\r\n        //  teste();\r\n        // },[]);\r\n        handleRecomend();\r\n\r\n    } else  {\r\n        \r\n        useEffect(() =>{\r\n\r\n            const token = localStorage.getItem('token');\r\n             const teste = async () => {\r\n                 const response = await axios.get(urlAllQuests, {\r\n                }).then(function (response) {\r\n                if(response.data){\r\n                    setQuests(response.data)\r\n                };\r\n                }).catch(function (error) {\r\n\r\n                  console.log(error);\r\n\r\n                });\r\n             }\r\n             teste();\r\n        },[]);\r\n    }\r\n\r\n    async function handleRecomend() { // esse teste possivelmente deu certo\r\n      \r\n      const token = localStorage.getItem('token').replace(/[\"]/g, '');\r\n\r\n      fetch(urlRecomendedQuests, {\r\n        method: 'post',\r\n        body: JSON.stringify({\r\n            token\r\n        })\r\n      }).then(function(response) {\r\n            return response.json();\r\n      }).then(data => {\r\n            setRecomendados(data.recomendacoes);\r\n            setQuests(data.allquests)\r\n      }).catch(error => {\r\n            // Lidar com erros\r\n            console.error(error);\r\n      });\r\n\r\n    }\r\n\r\n\r\n    return(\r\n        <div className=\"background alinhamento\">\r\n            <HeaderHome/>\r\n            <main className=\"fonte_login\">\r\n                <a href=\"/tabletop\"><Tabletop/></a>\r\n                {authenticated &&\r\n                <>\r\n                <h3 className='pb-3 titulo_login'>\r\n                    Questionários Recomendados\r\n                </h3>\r\n                 <Forms quests={recomendados} />\r\n                </>\r\n                }\r\n                <h3 className='pb-3 pt-5 titulo_login'>\r\n                Todos os Questionários\r\n                </h3>\r\n                 <Forms quests={quests}/>\r\n            </main>\r\n        </div> \r\n    )\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}